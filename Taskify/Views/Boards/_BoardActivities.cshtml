@model List<Taskify.Models.ActivityLog>

<div class="offcanvas offcanvas-end" tabindex="-1" id="boardActivityOffcanvas" style="width: 350px;">

    <div class="offcanvas-header border-bottom">
        <h5 class="offcanvas-title fw-bold d-flex align-items-center gap-2">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
            </svg>
            Activity Menu
        </h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>

    <div class="offcanvas-body p-0 custom-scrollbar">
        @if (Model != null && Model.Any())
        {
            <div class="list-group list-group-flush">
                @foreach (var act in Model)
                {
                    <div class="list-group-item px-3 py-3 d-flex gap-3 border-bottom-0">
                        <div class="flex-shrink-0">
                            @if (!string.IsNullOrEmpty(act.User?.AvatarUrl))
                            {
                                <img src="@act.User.AvatarUrl" class="rounded-circle border" width="32" height="32" style="object-fit:cover">
                            }
                            else
                            {
                                <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center fw-bold small" style="width:32px; height:32px;">
                                    @(act.User?.FullName?.Substring(0, 1) ?? "U")
                                </div>
                            }
                        </div>

                        <div class="flex-grow-1">
                            <div class="small">
                                <span class="fw-bold text-dark">@act.User?.FullName</span>
                                <span class="text-break text-secondary">@act.Content</span>
                            </div>
                            <div class="text-muted mt-1" style="font-size: 0.75rem;">
                                @act.CreatedAt.ToString("dd/MM/yyyy HH:mm")
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <div class="text-center text-muted py-5 mt-5">
                <p>Chưa có hoạt động nào.</p>
            </div>
        }
    </div>
</div>